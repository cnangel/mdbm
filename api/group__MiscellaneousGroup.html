<html lang="en">
<head>
<title>MDBM</title>
<link rel="stylesheet" href="style.css" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Miscellaneous Group</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Miscellaneous Group contains the API for routines that don't clearly fit into any of the other module API groups.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab4d80ee89698dc4a85a7a551bb470648"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MiscellaneousGroup.html#gab4d80ee89698dc4a85a7a551bb470648">mdbm_get_errno</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db)</td></tr>
<tr class="memdesc:gab4d80ee89698dc4a85a7a551bb470648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of internally saved errno.  <a href="#gab4d80ee89698dc4a85a7a551bb470648">More...</a><br/></td></tr>
<tr class="separator:gab4d80ee89698dc4a85a7a551bb470648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga804f0a906b815eb4b810428665d81c64"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MiscellaneousGroup.html#ga804f0a906b815eb4b810428665d81c64">mdbm_get_hash_value</a> (<a class="el" href="structdatum.html">datum</a> key, int hashFunctionCode, uint32_t *hashValue)</td></tr>
<tr class="memdesc:ga804f0a906b815eb4b810428665d81c64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a hash function code, get the hash value for the given key.  <a href="#ga804f0a906b815eb4b810428665d81c64">More...</a><br/></td></tr>
<tr class="separator:ga804f0a906b815eb4b810428665d81c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b39618d701f8c4ce8e19cc76dcceda5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mdbm_8h.html#aa54c3c6a29eede561614b102609bb7f4">mdbm_ubig_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MiscellaneousGroup.html#ga2b39618d701f8c4ce8e19cc76dcceda5">mdbm_get_page</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, const <a class="el" href="structdatum.html">datum</a> *key)</td></tr>
<tr class="memdesc:ga2b39618d701f8c4ce8e19cc76dcceda5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the MDBM page number for a given key.  <a href="#ga2b39618d701f8c4ce8e19cc76dcceda5">More...</a><br/></td></tr>
<tr class="separator:ga2b39618d701f8c4ce8e19cc76dcceda5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadb1026ff89e7d04fc2ed523a997eea8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MiscellaneousGroup.html#gaadb1026ff89e7d04fc2ed523a997eea8">mdbm_preload</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db)</td></tr>
<tr class="memdesc:gaadb1026ff89e7d04fc2ed523a997eea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preload mdbm: Read every 4k bytes to force all pages into memory.  <a href="#gaadb1026ff89e7d04fc2ed523a997eea8">More...</a><br/></td></tr>
<tr class="separator:gaadb1026ff89e7d04fc2ed523a997eea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dd5d13752b95e35e5e571549fb834c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MiscellaneousGroup.html#ga3dd5d13752b95e35e5e571549fb834c8">mdbm_lock_pages</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db)</td></tr>
<tr class="memdesc:ga3dd5d13752b95e35e5e571549fb834c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">mdbm_lock_pages: Locks MDBM data pages into memory.  <a href="#ga3dd5d13752b95e35e5e571549fb834c8">More...</a><br/></td></tr>
<tr class="separator:ga3dd5d13752b95e35e5e571549fb834c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9e9c4ed1e9e3b2987129954cc3a291c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MiscellaneousGroup.html#gab9e9c4ed1e9e3b2987129954cc3a291c">mdbm_unlock_pages</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db)</td></tr>
<tr class="memdesc:gab9e9c4ed1e9e3b2987129954cc3a291c"><td class="mdescLeft">&#160;</td><td class="mdescRight">mdbm_unlock_pages: Releases MDBM data pages from always staying in memory  <a href="#gab9e9c4ed1e9e3b2987129954cc3a291c">More...</a><br/></td></tr>
<tr class="separator:gab9e9c4ed1e9e3b2987129954cc3a291c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Miscellaneous Group contains the API for routines that don't clearly fit into any of the other module API groups. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gab4d80ee89698dc4a85a7a551bb470648"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_get_errno </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value of internally saved errno. </p>
<p>Contains the value of errno that is set during some lock failures. Under other circumstances, mdbm_get_errno will not return the actual value of the errno variable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Saved errno value, or zero if OK </dd></dl>

</div>
</div>
<a class="anchor" id="ga804f0a906b815eb4b810428665d81c64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_get_hash_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdatum.html">datum</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hashFunctionCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>hashValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a hash function code, get the hash value for the given key. </p>
<p>See <a class="el" href="group__ConfigurationGroup.html#ga12f097eb5d2926922527037d32977353">mdbm_sethash</a> for the list of valid hash function codes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Key </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hashFunctionCode</td><td>for a valid hash function (below) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hashValue</td><td>is calculated according to the <em>hashFunctionCode</em> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Get Hash status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success</td></tr>
  </table>
  </dd>
</dl>
<p>Values for <em>hashFunctionCode:</em> </p>
<ul>
<li>MDBM_HASH_CRC32 - Table based 32bit CRC</li>
<li>MDBM_HASH_EJB - From hsearch</li>
<li>MDBM_HASH_PHONG - Congruential hash</li>
<li>MDBM_HASH_OZ - From sdbm</li>
<li>MDBM_HASH_TOREK - From BerkeleyDB</li>
<li>MDBM_HASH_FNV - Fowler/Vo/Noll hash (DEFAULT)</li>
<li>MDBM_HASH_STL - STL string hash</li>
<li>MDBM_HASH_MD5 - MD5</li>
<li>MDBM_HASH_SHA_1 - SHA_1</li>
<li>MDBM_HASH_JENKINS - Jenkins string</li>
<li>MDBM_HASH_HSIEH - Hsieh SuperFast </li>
</ul>

</div>
</div>
<a class="anchor" id="ga2b39618d701f8c4ce8e19cc76dcceda5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mdbm_8h.html#aa54c3c6a29eede561614b102609bb7f4">mdbm_ubig_t</a> mdbm_get_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdatum.html">datum</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the MDBM page number for a given key. </p>
<p>The key does not actually have to exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Lookup key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Page number or error indicator </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">Page</td><td>number where the parameter key would be stored. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaadb1026ff89e7d04fc2ed523a997eea8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_preload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Preload mdbm: Read every 4k bytes to force all pages into memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>preload status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3dd5d13752b95e35e5e571549fb834c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_lock_pages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>mdbm_lock_pages: Locks MDBM data pages into memory. </p>
<p>When running MDBM as root, mdbm_lock_pages will expand the amount of RAM that can be locked to infinity using setrlimit(RLIMIT_MEMLOCK). When not running as root, mdbm_lock_pages will expand the amount of RAM that can be locked up to the maximum allowed (retrieved using getrlimit(MEMLOCK), and normally a very small amount), and if the MDBM is larger than the amount of RAM that can be locked, a warning will be logged but mdbm_lock_pages will return 0 for success.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>lock pages status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab9e9c4ed1e9e3b2987129954cc3a291c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_unlock_pages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>mdbm_unlock_pages: Releases MDBM data pages from always staying in memory </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>unlock pages status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- doc footer -->
</body>
</html>
