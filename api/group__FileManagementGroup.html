<html lang="en">
<head>
<title>MDBM</title>
<link rel="stylesheet" href="style.css" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">File Management Group</div>  </div>
</div><!--header-->
<div class="contents">

<p>The File Management Group contains the API the affects an MDBM at a file level.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga372e7805f2874467d0d3448a96955b27"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga372e7805f2874467d0d3448a96955b27">MDBM_O_RDONLY</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr class="memdesc:ga372e7805f2874467d0d3448a96955b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read-only access.  <a href="#ga372e7805f2874467d0d3448a96955b27">More...</a><br/></td></tr>
<tr class="separator:ga372e7805f2874467d0d3448a96955b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab69074dae902a4ede54a61049a5b62d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gab69074dae902a4ede54a61049a5b62d8">MDBM_O_WRONLY</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="memdesc:gab69074dae902a4ede54a61049a5b62d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write-only access (deprecated in V3)  <a href="#gab69074dae902a4ede54a61049a5b62d8">More...</a><br/></td></tr>
<tr class="separator:gab69074dae902a4ede54a61049a5b62d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47f223141aef48b60e6732f6c57f9a59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga47f223141aef48b60e6732f6c57f9a59">MDBM_O_RDWR</a>&#160;&#160;&#160;0x00000002</td></tr>
<tr class="memdesc:ga47f223141aef48b60e6732f6c57f9a59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and write access.  <a href="#ga47f223141aef48b60e6732f6c57f9a59">More...</a><br/></td></tr>
<tr class="separator:ga47f223141aef48b60e6732f6c57f9a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab95977d89938fe46e2d9d8c6420c7c73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gab95977d89938fe46e2d9d8c6420c7c73">MDBM_O_ACCMODE</a>&#160;&#160;&#160;(<a class="el" href="group__FileManagementGroup.html#ga372e7805f2874467d0d3448a96955b27">MDBM_O_RDONLY</a> | <a class="el" href="group__FileManagementGroup.html#gab69074dae902a4ede54a61049a5b62d8">MDBM_O_WRONLY</a> | <a class="el" href="group__FileManagementGroup.html#ga47f223141aef48b60e6732f6c57f9a59">MDBM_O_RDWR</a>)</td></tr>
<tr class="separator:gab95977d89938fe46e2d9d8c6420c7c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4b4e2b50244c709ccfb73d020b7d6f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gad4b4e2b50244c709ccfb73d020b7d6f4">MDBM_O_ASYNC</a>&#160;&#160;&#160;0x00000040</td></tr>
<tr class="memdesc:gad4b4e2b50244c709ccfb73d020b7d6f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform asynchronous writes.  <a href="#gad4b4e2b50244c709ccfb73d020b7d6f4">More...</a><br/></td></tr>
<tr class="separator:gad4b4e2b50244c709ccfb73d020b7d6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3beba487cce4965565b08e41aa8258bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga3beba487cce4965565b08e41aa8258bd">MDBM_O_FSYNC</a>&#160;&#160;&#160;0x00000080</td></tr>
<tr class="memdesc:ga3beba487cce4965565b08e41aa8258bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync file on close.  <a href="#ga3beba487cce4965565b08e41aa8258bd">More...</a><br/></td></tr>
<tr class="separator:ga3beba487cce4965565b08e41aa8258bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf7403631107af12d52654a46ecde11c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gacf7403631107af12d52654a46ecde11c">MDBM_O_CREAT</a>&#160;&#160;&#160;0x00000200</td></tr>
<tr class="memdesc:gacf7403631107af12d52654a46ecde11c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create file if it does not exist.  <a href="#gacf7403631107af12d52654a46ecde11c">More...</a><br/></td></tr>
<tr class="separator:gacf7403631107af12d52654a46ecde11c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc201a84dbc36c49f3de62a740c90b15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gacc201a84dbc36c49f3de62a740c90b15">MDBM_O_TRUNC</a>&#160;&#160;&#160;0x00000400</td></tr>
<tr class="memdesc:gacc201a84dbc36c49f3de62a740c90b15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Truncate file.  <a href="#gacc201a84dbc36c49f3de62a740c90b15">More...</a><br/></td></tr>
<tr class="separator:gacc201a84dbc36c49f3de62a740c90b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fb64e2537ac4602ad048b65209a5b2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga3fb64e2537ac4602ad048b65209a5b2a">MDBM_O_DIRECT</a>&#160;&#160;&#160;0x00004000</td></tr>
<tr class="memdesc:ga3fb64e2537ac4602ad048b65209a5b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform direction I/O.  <a href="#ga3fb64e2537ac4602ad048b65209a5b2a">More...</a><br/></td></tr>
<tr class="separator:ga3fb64e2537ac4602ad048b65209a5b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1410545fa51465c2a9009ba42945c866"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga1410545fa51465c2a9009ba42945c866">MDBM_NO_DIRTY</a>&#160;&#160;&#160;0x00010000</td></tr>
<tr class="memdesc:ga1410545fa51465c2a9009ba42945c866"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not not track clean/dirty status.  <a href="#ga1410545fa51465c2a9009ba42945c866">More...</a><br/></td></tr>
<tr class="separator:ga1410545fa51465c2a9009ba42945c866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabdba23a99e0e7ec2e04d055785780a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gaabdba23a99e0e7ec2e04d055785780a9">MDBM_SINGLE_ARCH</a>&#160;&#160;&#160;0x00080000</td></tr>
<tr class="memdesc:gaabdba23a99e0e7ec2e04d055785780a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">User <em>promises</em> not to mix 32/64-bit access.  <a href="#gaabdba23a99e0e7ec2e04d055785780a9">More...</a><br/></td></tr>
<tr class="separator:gaabdba23a99e0e7ec2e04d055785780a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2667afc84664219ffaa12b1e8b117212"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga2667afc84664219ffaa12b1e8b117212">MDBM_OPEN_WINDOWED</a>&#160;&#160;&#160;0x00100000</td></tr>
<tr class="memdesc:ga2667afc84664219ffaa12b1e8b117212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use windowing to access db.  <a href="#ga2667afc84664219ffaa12b1e8b117212">More...</a><br/></td></tr>
<tr class="separator:ga2667afc84664219ffaa12b1e8b117212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc2b08be7a3703a1161737140b9cf3f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gafc2b08be7a3703a1161737140b9cf3f4">MDBM_PROTECT</a>&#160;&#160;&#160;0x00200000</td></tr>
<tr class="memdesc:gafc2b08be7a3703a1161737140b9cf3f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protect database except when locked.  <a href="#gafc2b08be7a3703a1161737140b9cf3f4">More...</a><br/></td></tr>
<tr class="separator:gafc2b08be7a3703a1161737140b9cf3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga533b35648946004c9ecb05e308715342"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga533b35648946004c9ecb05e308715342">MDBM_DBSIZE_MB</a>&#160;&#160;&#160;0x00400000</td></tr>
<tr class="memdesc:ga533b35648946004c9ecb05e308715342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dbsize is specific in MB.  <a href="#ga533b35648946004c9ecb05e308715342">More...</a><br/></td></tr>
<tr class="separator:ga533b35648946004c9ecb05e308715342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a28b52560431c93b71b7b7441f8e5eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga6a28b52560431c93b71b7b7441f8e5eb">MDBM_STAT_OPERATIONS</a>&#160;&#160;&#160;0x00800000</td></tr>
<tr class="memdesc:ga6a28b52560431c93b71b7b7441f8e5eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">collect stats for fetch, store, delete  <a href="#ga6a28b52560431c93b71b7b7441f8e5eb">More...</a><br/></td></tr>
<tr class="separator:ga6a28b52560431c93b71b7b7441f8e5eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9677c032f5780bd57247d14acf98d486"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga9677c032f5780bd57247d14acf98d486">MDBM_LARGE_OBJECTS</a>&#160;&#160;&#160;0x01000000</td></tr>
<tr class="memdesc:ga9677c032f5780bd57247d14acf98d486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Support large objects - obsolete.  <a href="#ga9677c032f5780bd57247d14acf98d486">More...</a><br/></td></tr>
<tr class="separator:ga9677c032f5780bd57247d14acf98d486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4094a6b9dfabe27d0aa131289afaf28c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga4094a6b9dfabe27d0aa131289afaf28c">MDBM_PARTITIONED_LOCKS</a>&#160;&#160;&#160;0x02000000</td></tr>
<tr class="memdesc:ga4094a6b9dfabe27d0aa131289afaf28c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partitioned locks.  <a href="#ga4094a6b9dfabe27d0aa131289afaf28c">More...</a><br/></td></tr>
<tr class="separator:ga4094a6b9dfabe27d0aa131289afaf28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ba70c8e1a1c4dfe4156d1dbde4b804e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga8ba70c8e1a1c4dfe4156d1dbde4b804e">MDBM_RW_LOCKS</a>&#160;&#160;&#160;0x08000000</td></tr>
<tr class="memdesc:ga8ba70c8e1a1c4dfe4156d1dbde4b804e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read-write locks.  <a href="#ga8ba70c8e1a1c4dfe4156d1dbde4b804e">More...</a><br/></td></tr>
<tr class="separator:ga8ba70c8e1a1c4dfe4156d1dbde4b804e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05e28672524d37bea4a666aa69300252"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga05e28672524d37bea4a666aa69300252">MDBM_ANY_LOCKS</a>&#160;&#160;&#160;0x00020000</td></tr>
<tr class="memdesc:ga05e28672524d37bea4a666aa69300252"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open, even if existing locks don't match flags.  <a href="#ga05e28672524d37bea4a666aa69300252">More...</a><br/></td></tr>
<tr class="separator:ga05e28672524d37bea4a666aa69300252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga511e741029c8b0b543623d9f07bbf7bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga511e741029c8b0b543623d9f07bbf7bd">MDBM_CREATE_V3</a>&#160;&#160;&#160;0x20000000</td></tr>
<tr class="memdesc:ga511e741029c8b0b543623d9f07bbf7bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a V3 db.  <a href="#ga511e741029c8b0b543623d9f07bbf7bd">More...</a><br/></td></tr>
<tr class="separator:ga511e741029c8b0b543623d9f07bbf7bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabebdbc53ddb14f7e7862cb430fe768e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gabebdbc53ddb14f7e7862cb430fe768e0">MDBM_OPEN_NOLOCK</a>&#160;&#160;&#160;0x80000000</td></tr>
<tr class="memdesc:gabebdbc53ddb14f7e7862cb430fe768e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Don't lock during open.  <a href="#gabebdbc53ddb14f7e7862cb430fe768e0">More...</a><br/></td></tr>
<tr class="separator:gabebdbc53ddb14f7e7862cb430fe768e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac21f3f8e6f3b03a4b346dc49c449570f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gac21f3f8e6f3b03a4b346dc49c449570f">MDBM_DEMAND_PAGING</a>&#160;&#160;&#160;0x04000000</td></tr>
<tr class="memdesc:gac21f3f8e6f3b03a4b346dc49c449570f"><td class="mdescLeft">&#160;</td><td class="mdescRight">(v2 only)  <a href="#gac21f3f8e6f3b03a4b346dc49c449570f">More...</a><br/></td></tr>
<tr class="separator:gac21f3f8e6f3b03a4b346dc49c449570f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89b9521428b176b09fde7a1ce2538ed1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga89b9521428b176b09fde7a1ce2538ed1">MDBM_DBSIZE_MB_OLD</a>&#160;&#160;&#160;0x04000000</td></tr>
<tr class="memdesc:ga89b9521428b176b09fde7a1ce2538ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">(don't use &ndash; conflicts with above)  <a href="#ga89b9521428b176b09fde7a1ce2538ed1">More...</a><br/></td></tr>
<tr class="separator:ga89b9521428b176b09fde7a1ce2538ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56ca2269e892a1a0723ac473996adfcd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga56ca2269e892a1a0723ac473996adfcd">MDBM_COPY_LOCK_ALL</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:ga56ca2269e892a1a0723ac473996adfcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1467b5a1b178b6f7b567ddad16c09eff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga1467b5a1b178b6f7b567ddad16c09eff">MDBM_SAVE_COMPRESS_TREE</a>&#160;&#160;&#160;0x01000000      /* compress mdbm before saving */</td></tr>
<tr class="memdesc:ga1467b5a1b178b6f7b567ddad16c09eff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress MDBM before saving.  <a href="#ga1467b5a1b178b6f7b567ddad16c09eff">More...</a><br/></td></tr>
<tr class="separator:ga1467b5a1b178b6f7b567ddad16c09eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1467b5a1b178b6f7b567ddad16c09eff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga1467b5a1b178b6f7b567ddad16c09eff">MDBM_SAVE_COMPRESS_TREE</a>&#160;&#160;&#160;0x01000000</td></tr>
<tr class="memdesc:ga1467b5a1b178b6f7b567ddad16c09eff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress MDBM before saving.  <a href="#ga1467b5a1b178b6f7b567ddad16c09eff">More...</a><br/></td></tr>
<tr class="separator:ga1467b5a1b178b6f7b567ddad16c09eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5152a643c7749ba7074519f066eba6e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga5152a643c7749ba7074519f066eba6e0">mdbm_open</a> (const char *file, int flags, int mode, int psize, int presize)</td></tr>
<tr class="memdesc:ga5152a643c7749ba7074519f066eba6e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and/or opens a database.  <a href="#ga5152a643c7749ba7074519f066eba6e0">More...</a><br/></td></tr>
<tr class="separator:ga5152a643c7749ba7074519f066eba6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b9521b5a929a7140023e7cd447fa812"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga9b9521b5a929a7140023e7cd447fa812">mdbm_close</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db)</td></tr>
<tr class="memdesc:ga9b9521b5a929a7140023e7cd447fa812"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the database.  <a href="#ga9b9521b5a929a7140023e7cd447fa812">More...</a><br/></td></tr>
<tr class="separator:ga9b9521b5a929a7140023e7cd447fa812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ed4ecc723a45a145cc4d4741767c12e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga9ed4ecc723a45a145cc4d4741767c12e">mdbm_close_fd</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db)</td></tr>
<tr class="memdesc:ga9ed4ecc723a45a145cc4d4741767c12e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes an MDBM's underlying file descriptor.  <a href="#ga9ed4ecc723a45a145cc4d4741767c12e">More...</a><br/></td></tr>
<tr class="separator:ga9ed4ecc723a45a145cc4d4741767c12e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac432653a710a63f89c4ae1398453ca1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gac432653a710a63f89c4ae1398453ca1c">mdbm_dup_handle</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, int flags)</td></tr>
<tr class="memdesc:gac432653a710a63f89c4ae1398453ca1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicate an existing database handle.  <a href="#gac432653a710a63f89c4ae1398453ca1c">More...</a><br/></td></tr>
<tr class="separator:gac432653a710a63f89c4ae1398453ca1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab972e585619285cf246f01bcb650c383"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gab972e585619285cf246f01bcb650c383">mdbm_sync</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db)</td></tr>
<tr class="memdesc:gab972e585619285cf246f01bcb650c383"><td class="mdescLeft">&#160;</td><td class="mdescRight">msync's all pages to disk asynchronously.  <a href="#gab972e585619285cf246f01bcb650c383">More...</a><br/></td></tr>
<tr class="separator:gab972e585619285cf246f01bcb650c383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5c8aba205194c311031856cb9f70a0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gac5c8aba205194c311031856cb9f70a0d">mdbm_fsync</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db)</td></tr>
<tr class="memdesc:gac5c8aba205194c311031856cb9f70a0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">fsync's an MDBM.  <a href="#gac5c8aba205194c311031856cb9f70a0d">More...</a><br/></td></tr>
<tr class="separator:gac5c8aba205194c311031856cb9f70a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4682ea820913e1e9ff7c0637e84a9d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gab4682ea820913e1e9ff7c0637e84a9d5">mdbm_replace_db</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, const char *newfile)</td></tr>
<tr class="memdesc:gab4682ea820913e1e9ff7c0637e84a9d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically replaces the database currently in oldfile <em>db</em> with the new database in <em>newfile</em>.  <a href="#gab4682ea820913e1e9ff7c0637e84a9d5">More...</a><br/></td></tr>
<tr class="separator:gab4682ea820913e1e9ff7c0637e84a9d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d5588cd57ec04f63079447473ef86f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga0d5588cd57ec04f63079447473ef86f5">mdbm_replace_file</a> (const char *oldfile, const char *newfile)</td></tr>
<tr class="memdesc:ga0d5588cd57ec04f63079447473ef86f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically replaces an old database in <em>oldfile</em> with a new database in <em>newfile</em>.  <a href="#ga0d5588cd57ec04f63079447473ef86f5">More...</a><br/></td></tr>
<tr class="separator:ga0d5588cd57ec04f63079447473ef86f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga177eea0c0789da9ab21843e38b62baee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga177eea0c0789da9ab21843e38b62baee">mdbm_pre_split</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, <a class="el" href="mdbm_8h.html#aa54c3c6a29eede561614b102609bb7f4">mdbm_ubig_t</a> N)</td></tr>
<tr class="memdesc:ga177eea0c0789da9ab21843e38b62baee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forces a db to split, creating N pages.  <a href="#ga177eea0c0789da9ab21843e38b62baee">More...</a><br/></td></tr>
<tr class="separator:ga177eea0c0789da9ab21843e38b62baee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4ad1a599d0a0f3419cca217577bb8f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gae4ad1a599d0a0f3419cca217577bb8f3">mdbm_fcopy</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, int fd, int flags)</td></tr>
<tr class="memdesc:gae4ad1a599d0a0f3419cca217577bb8f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the contents of a database to an open file handle.  <a href="#gae4ad1a599d0a0f3419cca217577bb8f3">More...</a><br/></td></tr>
<tr class="separator:gae4ad1a599d0a0f3419cca217577bb8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc0007ea9a82fa72e02af2cc70aa94f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#gacc0007ea9a82fa72e02af2cc70aa94f0">mdbm_save</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, const char *file, int flags, int mode, int compressionLevel)</td></tr>
<tr class="memdesc:gacc0007ea9a82fa72e02af2cc70aa94f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">DEPRECATED!! mdbm_save is only supported for V2 MDBMs.  <a href="#gacc0007ea9a82fa72e02af2cc70aa94f0">More...</a><br/></td></tr>
<tr class="separator:gacc0007ea9a82fa72e02af2cc70aa94f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga919c12b39cfdab5b6ec1424be5f72918"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FileManagementGroup.html#ga919c12b39cfdab5b6ec1424be5f72918">mdbm_restore</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, const char *file)</td></tr>
<tr class="memdesc:ga919c12b39cfdab5b6ec1424be5f72918"><td class="mdescLeft">&#160;</td><td class="mdescRight">DEPRECATED!! mdbm_restore is only supported for V2 MDBMs.  <a href="#ga919c12b39cfdab5b6ec1424be5f72918">More...</a><br/></td></tr>
<tr class="separator:ga919c12b39cfdab5b6ec1424be5f72918"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The File Management Group contains the API the affects an MDBM at a file level. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga372e7805f2874467d0d3448a96955b27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_O_RDONLY&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read-only access. </p>

</div>
</div>
<a class="anchor" id="gab69074dae902a4ede54a61049a5b62d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_O_WRONLY&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write-only access (deprecated in V3) </p>

</div>
</div>
<a class="anchor" id="ga47f223141aef48b60e6732f6c57f9a59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_O_RDWR&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and write access. </p>

</div>
</div>
<a class="anchor" id="gab95977d89938fe46e2d9d8c6420c7c73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_O_ACCMODE&#160;&#160;&#160;(<a class="el" href="group__FileManagementGroup.html#ga372e7805f2874467d0d3448a96955b27">MDBM_O_RDONLY</a> | <a class="el" href="group__FileManagementGroup.html#gab69074dae902a4ede54a61049a5b62d8">MDBM_O_WRONLY</a> | <a class="el" href="group__FileManagementGroup.html#ga47f223141aef48b60e6732f6c57f9a59">MDBM_O_RDWR</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gad4b4e2b50244c709ccfb73d020b7d6f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_O_ASYNC&#160;&#160;&#160;0x00000040</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform asynchronous writes. </p>

</div>
</div>
<a class="anchor" id="ga3beba487cce4965565b08e41aa8258bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_O_FSYNC&#160;&#160;&#160;0x00000080</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sync file on close. </p>

</div>
</div>
<a class="anchor" id="gacf7403631107af12d52654a46ecde11c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_O_CREAT&#160;&#160;&#160;0x00000200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create file if it does not exist. </p>

</div>
</div>
<a class="anchor" id="gacc201a84dbc36c49f3de62a740c90b15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_O_TRUNC&#160;&#160;&#160;0x00000400</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Truncate file. </p>

</div>
</div>
<a class="anchor" id="ga3fb64e2537ac4602ad048b65209a5b2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_O_DIRECT&#160;&#160;&#160;0x00004000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform direction I/O. </p>

</div>
</div>
<a class="anchor" id="ga1410545fa51465c2a9009ba42945c866"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_NO_DIRTY&#160;&#160;&#160;0x00010000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do not not track clean/dirty status. </p>

</div>
</div>
<a class="anchor" id="gaabdba23a99e0e7ec2e04d055785780a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_SINGLE_ARCH&#160;&#160;&#160;0x00080000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User <em>promises</em> not to mix 32/64-bit access. </p>

</div>
</div>
<a class="anchor" id="ga2667afc84664219ffaa12b1e8b117212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_OPEN_WINDOWED&#160;&#160;&#160;0x00100000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use windowing to access db. </p>

</div>
</div>
<a class="anchor" id="gafc2b08be7a3703a1161737140b9cf3f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_PROTECT&#160;&#160;&#160;0x00200000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Protect database except when locked. </p>

</div>
</div>
<a class="anchor" id="ga533b35648946004c9ecb05e308715342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_DBSIZE_MB&#160;&#160;&#160;0x00400000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dbsize is specific in MB. </p>

</div>
</div>
<a class="anchor" id="ga6a28b52560431c93b71b7b7441f8e5eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_STAT_OPERATIONS&#160;&#160;&#160;0x00800000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>collect stats for fetch, store, delete </p>

</div>
</div>
<a class="anchor" id="ga9677c032f5780bd57247d14acf98d486"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_LARGE_OBJECTS&#160;&#160;&#160;0x01000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Support large objects - obsolete. </p>

</div>
</div>
<a class="anchor" id="ga4094a6b9dfabe27d0aa131289afaf28c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_PARTITIONED_LOCKS&#160;&#160;&#160;0x02000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Partitioned locks. </p>

</div>
</div>
<a class="anchor" id="ga8ba70c8e1a1c4dfe4156d1dbde4b804e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_RW_LOCKS&#160;&#160;&#160;0x08000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read-write locks. </p>

</div>
</div>
<a class="anchor" id="ga05e28672524d37bea4a666aa69300252"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_ANY_LOCKS&#160;&#160;&#160;0x00020000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open, even if existing locks don't match flags. </p>

</div>
</div>
<a class="anchor" id="ga511e741029c8b0b543623d9f07bbf7bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_CREATE_V3&#160;&#160;&#160;0x20000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a V3 db. </p>

</div>
</div>
<a class="anchor" id="gabebdbc53ddb14f7e7862cb430fe768e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_OPEN_NOLOCK&#160;&#160;&#160;0x80000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Don't lock during open. </p>

</div>
</div>
<a class="anchor" id="gac21f3f8e6f3b03a4b346dc49c449570f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_DEMAND_PAGING&#160;&#160;&#160;0x04000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(v2 only) </p>

</div>
</div>
<a class="anchor" id="ga89b9521428b176b09fde7a1ce2538ed1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_DBSIZE_MB_OLD&#160;&#160;&#160;0x04000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(don't use &ndash; conflicts with above) </p>

</div>
</div>
<a class="anchor" id="ga56ca2269e892a1a0723ac473996adfcd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_COPY_LOCK_ALL&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga1467b5a1b178b6f7b567ddad16c09eff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_SAVE_COMPRESS_TREE&#160;&#160;&#160;0x01000000      /* compress mdbm before saving */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compress MDBM before saving. </p>

</div>
</div>
<a class="anchor" id="ga1467b5a1b178b6f7b567ddad16c09eff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MDBM_SAVE_COMPRESS_TREE&#160;&#160;&#160;0x01000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compress MDBM before saving. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5152a643c7749ba7074519f066eba6e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a>* mdbm_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>psize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>presize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and/or opens a database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>Name of the backing file for the database. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Specifies the open-mode for the file, usually either (MDBM_O_RDWR|MDBM_O_CREAT) or (MDBM_O_RDONLY). Flag MDBM_LARGE_OBJECTS may be used to enable large object support. Large object support can only be enabled when the database is first created. Subsequent mdbm_open calls will ignore the flag. Flag MDBM_PARTITIONED_LOCKS may be used to enable partition locking a per mdbm_open basis. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Used to set the file permissions if the file needs to be created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">psize</td><td>Specifies the page size for the database and is set when the database is created. The minimum page size is 128. In v2, the maximum is 64K. In v3, the maximum is 16M - 64. The default, if 0 is specified, is 4096. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">presize</td><td>Specifies the initial size for the database. The database will dynamically grow as records are added, but specifying an initial size may improve efficiency. If this is not a multiple of <em>psize</em>, it will be increased to the next <em>psize</em> multiple. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MDBM handle or failure indicator </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Pointer</td><td>to an MDBM handle, on success </td></tr>
    <tr><td class="paramname">NULL</td><td>on error, and errno is set</td></tr>
  </table>
  </dd>
</dl>
<p>Values for <em>flags</em> mask:</p>
<ul>
<li>MDBM_O_RDONLY - open for reading only</li>
<li>MDBM_O_RDWR - open for reading and writing</li>
<li>MDBM_O_WRONLY - same as RDWR (deprecated)</li>
<li>MDBM_O_CREAT - create file if it does not exist (requires flag MDBM_O_RDWR)</li>
<li>MDBM_O_TRUNC - truncate size to 0</li>
<li>MDBM_O_ASYNC - enable asynchronous sync'ing by the kernel syncing process.</li>
<li>MDBM_O_FSYNC - sync MDBM upon <a class="el" href="group__FileManagementGroup.html#ga9b9521b5a929a7140023e7cd447fa812">mdbm_close</a></li>
<li>MDBM_O_DIRECT - use O_DIRECT when accessing backing-store files</li>
<li>MDBM_NO_DIRTY - do not not track clean/dirty status</li>
<li>MDBM_OPEN_WINDOWED - use windowing to access db, only available with MDBM_O_RDWR</li>
<li>MDBM_PROTECT - protect database except when locked (MDBM V3 only)</li>
<li>MDBM_DBSIZE_MB - dbsize is specific in MB (MDBM V3 only)</li>
<li>MDBM_LARGE_OBJECTS - support large objects</li>
<li>MDBM_PARTITIONED_LOCKS - partitioned locks</li>
<li>MDBM_RW_LOCKS - read-write locks</li>
<li>MDBM_CREATE_V2 - create a V2 db</li>
<li>MDBM_CREATE_V3 - create a V3 db</li>
<li>MDBM_HEADER_ONLY - map header only (internal use)</li>
<li>MDBM_OPEN_NOLOCK - do not lock during open</li>
<li>MDBM_ANY_LOCKS - (V4 only) treat the locking flags as only a suggestion</li>
<li>MDBM_SINGLE_ARCH - (V4 only) user guarantees no mixed (32/64-bit) access in exchange for faster (pthreads) locking</li>
</ul>
<p>More information about the differences between V2 and V3 mdbm_open behavior:</p>
<ul>
<li>In V2, when the <em>psize</em> (page size) parameter is invalid, the page size is silently converted to a valid value: if non-zero but less than 128, it becomes 128. Page size is always rounded to the next power of 2. If greater than 64K, it becomes 64K.</li>
<li>In V3, when the page size is invalid(less than 128, or greater than 16MB) mdbm_open detects an error and returns NULL. Page size is always a multiple of 64 bytes. </li>
</ul>

</div>
</div>
<a class="anchor" id="ga9b9521b5a929a7140023e7cd447fa812"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdbm_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle</td></tr>
  </table>
  </dd>
</dl>
<p>mdbm_close closes the database specified by the <em>db</em> argument. The in-memory pages are not flushed to disk by close. They will be written to disk over time as they are paged out, but an explicit <a class="el" href="group__FileManagementGroup.html#gab972e585619285cf246f01bcb650c383">mdbm_sync</a> call is necessary before closing if on-disk consistency is required. </p>

</div>
</div>
<a class="anchor" id="ga9ed4ecc723a45a145cc4d4741767c12e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdbm_close_fd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes an MDBM's underlying file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac432653a710a63f89c4ae1398453ca1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a>* mdbm_dup_handle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Duplicate an existing database handle. </p>
<p>The advantage of dup'ing a handle over doing a separate <a class="el" href="group__FileManagementGroup.html#ga5152a643c7749ba7074519f066eba6e0">mdbm_open</a> is that dup's handle share the same virtual page mapping within the process space (saving memory). Threaded applications should use pthread_mutex_lock and unlock around calls to mdbm_dup_handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Reserved for future use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dup'd handle </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Pointer</td><td>to an MDBM handle, on success </td></tr>
    <tr><td class="paramname">NULL</td><td>on error, and errno is set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab972e585619285cf246f01bcb650c383"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>msync's all pages to disk asynchronously. </p>
<p>The mdbm_sync call will return, and mapped pages are scheduled to be flushed to disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Sync status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac5c8aba205194c311031856cb9f70a0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_fsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>fsync's an MDBM. </p>
<p>Syncs all pages to disk synchronously. The mdbm_fsync call will return after all pages have been flushed to disk. The database is locked while pages are flushed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>fsync status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab4682ea820913e1e9ff7c0637e84a9d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_replace_db </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomically replaces the database currently in oldfile <em>db</em> with the new database in <em>newfile</em>. </p>
<p>The old database is locked while the new database is renamed from newfile to oldfile and the old database is marked as having been replaced. This causes all processes that have the old database open to reopen the new database on their next access. Only database files of the same version may be specified for oldfile and new file. For example, mix and matching of v2 and v3 with oldfile and newfile is not allowed.</p>
<p>This function will delete the old file; and rename the new file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newfile</td><td>Path of new file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Replace status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error and errno is set. The MDBM was not replaced. </td></tr>
    <tr><td class="paramname">0</td><td>Success and the MDBM was replaced </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0d5588cd57ec04f63079447473ef86f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_replace_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>oldfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomically replaces an old database in <em>oldfile</em> with a new database in <em>newfile</em>. </p>
<p><em>oldfile</em> is deleted, and <em>newfile</em> is renamed to <em>oldfile</em>.</p>
<p>The old database is locked (if the MDBM were opened with locking) while the new database is renamed from <em>newfile</em> to <em>oldfile</em>, and the old database is marked as having been replaced. The marked old database causes all processes that have the old database open to reopen using the new database on their next access.</p>
<p>Only database files of the same version may be specified for <em>oldfile</em> and <em>newfile</em>. For example, mixing and matching of v2 and v3 for <em>oldfile</em> and <em>newfile</em> is not allowed.</p>
<p>mdbm_replace_file may be used if the MDBM is opened with locking or without locking (using mdbm_open flag MDBM_OPEN_NOLOCK), and without per-access locking, if all accesses are read (fetches) accesses across all programs that open that MDBM. If there are any write (store/delete) accesses, you must open the MDBM with locking, and you must lock around all operations (fetch, store, delete, iterate).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oldfile</td><td>File to be replaced </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newfile</td><td>Path of new file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Replace status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set. The MDBM was not replaced </td></tr>
    <tr><td class="paramname">0</td><td>Success, and the MDBM was replaced </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga177eea0c0789da9ab21843e38b62baee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_pre_split </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#aa54c3c6a29eede561614b102609bb7f4">mdbm_ubig_t</a>&#160;</td>
          <td class="paramname"><em>N</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forces a db to split, creating N pages. </p>
<p>Must be called before any data is inserted. If N is not a multiple of 2, it will be rounded up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">N</td><td>Target number of pages post split. If <em>N</em> is not larger than the initial size (ex., 0), a split will not be done and a success status is returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Split status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set. errno=EFBIG if MDBM not empty. </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae4ad1a599d0a0f3419cca217577bb8f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_fcopy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the contents of a database to an open file handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>Open file descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>fcopy status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success</td></tr>
  </table>
  </dd>
</dl>
<p>Values for <em>flags</em> mask:</p>
<ul>
<li>MDBM_COPY_LOCK_ALL - Whether lock for the duration of the copy. For a consistent snapshot of the entire database, this flag must be used. Otherwise, consistency will only be on a per-page level. </li>
</ul>

</div>
</div>
<a class="anchor" id="gacc0007ea9a82fa72e02af2cc70aa94f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_save </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>compressionLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DEPRECATED!! mdbm_save is only supported for V2 MDBMs. </p>
<p>Saves the current contents of the database in a transportable format (i.e., without all of the holes normally found in an MDBM database). Include MDBM_O_CREAT in flags to create a new save file, MDBM_O_TRUNC to truncate an existing file. Include both to either create a new file or truncate an existing one, as required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>File to save to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Mask indicating how file should be created Supported flags are: MDBM_O_CREAT, MDBM_O_TRUNC, MDBM_SAVE_COMPRESS_TREE(used to compress a database internally before saving to file) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Set as file mode permissions (ex: 0644); If 0 then ignored </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">compressionLevel</td><td>If &lt;= 0, then file is saved without compressing. If &gt; zero, zlib compression at the specified level is applied </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Save status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga919c12b39cfdab5b6ec1424be5f72918"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_restore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DEPRECATED!! mdbm_restore is only supported for V2 MDBMs. </p>
<p>Restores a database from the specified file (which was created using the <a class="el" href="group__FileManagementGroup.html#gacc0007ea9a82fa72e02af2cc70aa94f0">mdbm_save</a> function). Any existing contents in the database are truncated before restoring.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>Database handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>File to restore from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Restore status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- doc footer -->
</body>
</html>
