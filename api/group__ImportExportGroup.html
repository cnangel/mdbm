<html lang="en">
<head>
<title>MDBM</title>
<link rel="stylesheet" href="style.css" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Import and Export Group</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Import and Export Group contains the APIs for reading and writing records to a file in cdb_dump or db_dump format.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8eaa19f27f3033795ab6082a171a3d88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#ga8eaa19f27f3033795ab6082a171a3d88">mdbm_cdbdump_to_file</a> (<a class="el" href="structkvpair.html">kvpair</a> kv, FILE *fp)</td></tr>
<tr class="memdesc:ga8eaa19f27f3033795ab6082a171a3d88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export API: Use cdb_dump format to write a key/value pair to file opened with fopen.  <a href="#ga8eaa19f27f3033795ab6082a171a3d88">More...</a><br/></td></tr>
<tr class="separator:ga8eaa19f27f3033795ab6082a171a3d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad891c6179f4d3596f08c5274e85f9e45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#gad891c6179f4d3596f08c5274e85f9e45">mdbm_cdbdump_trailer_and_close</a> (FILE *fp)</td></tr>
<tr class="memdesc:gad891c6179f4d3596f08c5274e85f9e45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export API: Finalize and close a file written in cdb_dump format and opened with fopen.  <a href="#gad891c6179f4d3596f08c5274e85f9e45">More...</a><br/></td></tr>
<tr class="separator:gad891c6179f4d3596f08c5274e85f9e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e90127be9c97e6e2632e8c36443ad65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#ga0e90127be9c97e6e2632e8c36443ad65">mdbm_cdbdump_add_record</a> (<a class="el" href="structkvpair.html">kvpair</a> kv, uint32_t *datasize, char **bufptr, uint32_t *bufsize, uint32_t buf_offset)</td></tr>
<tr class="memdesc:ga0e90127be9c97e6e2632e8c36443ad65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export API: Use cdb_dump format to write a key/value pair to a malloc'd buffer.  <a href="#ga0e90127be9c97e6e2632e8c36443ad65">More...</a><br/></td></tr>
<tr class="separator:ga0e90127be9c97e6e2632e8c36443ad65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b3b05d417b12130b385d3a417729ec9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#ga7b3b05d417b12130b385d3a417729ec9">mdbm_dbdump_to_file</a> (<a class="el" href="structkvpair.html">kvpair</a> kv, FILE *fp)</td></tr>
<tr class="memdesc:ga7b3b05d417b12130b385d3a417729ec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export API: Use db_dump format to write a key/value pair to a file opened with fopen.  <a href="#ga7b3b05d417b12130b385d3a417729ec9">More...</a><br/></td></tr>
<tr class="separator:ga7b3b05d417b12130b385d3a417729ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3878814110548b399bdd0fc3b0124073"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#ga3878814110548b399bdd0fc3b0124073">mdbm_dbdump_trailer_and_close</a> (FILE *fp)</td></tr>
<tr class="memdesc:ga3878814110548b399bdd0fc3b0124073"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export API: Finalize and close a file written in db_dump format and opened with fopen.  <a href="#ga3878814110548b399bdd0fc3b0124073">More...</a><br/></td></tr>
<tr class="separator:ga3878814110548b399bdd0fc3b0124073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ec0daee860858aa6d8077173fddb92c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#ga2ec0daee860858aa6d8077173fddb92c">mdbm_dbdump_add_record</a> (<a class="el" href="structkvpair.html">kvpair</a> kv, uint32_t *datasize, char **bufptr, uint32_t *bufsize, uint32_t buf_offset)</td></tr>
<tr class="memdesc:ga2ec0daee860858aa6d8077173fddb92c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export API: Use db_dump format to write a key/value pair to a malloc'd buffer.  <a href="#ga2ec0daee860858aa6d8077173fddb92c">More...</a><br/></td></tr>
<tr class="separator:ga2ec0daee860858aa6d8077173fddb92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae404215e3bbd5958a2f8408b952f9d35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#gae404215e3bbd5958a2f8408b952f9d35">mdbm_dbdump_export_header</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, FILE *fp)</td></tr>
<tr class="memdesc:gae404215e3bbd5958a2f8408b952f9d35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export API: Write the DBdump header to FILE.  <a href="#gae404215e3bbd5958a2f8408b952f9d35">More...</a><br/></td></tr>
<tr class="separator:gae404215e3bbd5958a2f8408b952f9d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac968934ee41f70307cb9976777a87761"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#gac968934ee41f70307cb9976777a87761">mdbm_dbdump_import_header</a> (FILE *fp, int *pgsize, int *pgcount, int *large, uint32_t *lineno)</td></tr>
<tr class="memdesc:gac968934ee41f70307cb9976777a87761"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import API: Read the DBdump header from FILE Function will set, if available at the beginning of the file pointed to by "fp", the following parameter values:  <a href="#gac968934ee41f70307cb9976777a87761">More...</a><br/></td></tr>
<tr class="separator:gac968934ee41f70307cb9976777a87761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f27fda50db2248a91ff65e2757758b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#ga0f27fda50db2248a91ff65e2757758b4">mdbm_dbdump_import</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, FILE *fp, const char *input_file, int store_flag, uint32_t *lineno)</td></tr>
<tr class="memdesc:ga0f27fda50db2248a91ff65e2757758b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import API: Read data from FILE into MDBM, using DBdump format.  <a href="#ga0f27fda50db2248a91ff65e2757758b4">More...</a><br/></td></tr>
<tr class="separator:ga0f27fda50db2248a91ff65e2757758b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96dfdf65a3e1406f01cbe4866f6864ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ImportExportGroup.html#ga96dfdf65a3e1406f01cbe4866f6864ec">mdbm_cdbdump_import</a> (<a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *db, FILE *fp, const char *input_file, int store_flag)</td></tr>
<tr class="memdesc:ga96dfdf65a3e1406f01cbe4866f6864ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import API: Read data from FILE into MDBM, using Cdb format.  <a href="#ga96dfdf65a3e1406f01cbe4866f6864ec">More...</a><br/></td></tr>
<tr class="separator:ga96dfdf65a3e1406f01cbe4866f6864ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Import and Export Group contains the APIs for reading and writing records to a file in cdb_dump or db_dump format. </p>
<p>Utility functions for converting from MDBM files into a textual representation. These functions generate data in one of 2 formats:</p>
<ul>
<li>The "printable" BerkeleyDB db_{dump,load} format</li>
<li>The cdb_dump format, which is a little more compact because it uses binary representation instead of escaped hex sequences: <a href="http://cr.yp.to/cdb/cdbmake.html">http://cr.yp.to/cdb/cdbmake.html</a> </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga8eaa19f27f3033795ab6082a171a3d88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_cdbdump_to_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkvpair.html">kvpair</a>&#160;</td>
          <td class="paramname"><em>kv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export API: Use cdb_dump format to write a key/value pair to file opened with fopen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">kv</td><td>Key+Value pair </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fp</td><td>FILE pointer (return value of fopen) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dump kvpair to file status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad891c6179f4d3596f08c5274e85f9e45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_cdbdump_trailer_and_close </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export API: Finalize and close a file written in cdb_dump format and opened with fopen. </p>
<p>Adds newline character as the file "trailer" and closes the file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fp</td><td>FILE pointer (return value of fopen) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dump trailer to file status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0e90127be9c97e6e2632e8c36443ad65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_cdbdump_add_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkvpair.html">kvpair</a>&#160;</td>
          <td class="paramname"><em>kv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>datasize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>bufptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>bufsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buf_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export API: Use cdb_dump format to write a key/value pair to a malloc'd buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">kv</td><td>Key+Value pair </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">datasize</td><td>Size of cdb_dump data to be added added to <em>bufptr</em> </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bufptr</td><td>malloc'd buffer. bufptr may be realloc'd if <em>datasize</em> is greater than <em>bufsize</em> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufsize</td><td>Size of malloc'd buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_offset</td><td>Offset in <em>bufptr</em> to start writing data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Add record status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7b3b05d417b12130b385d3a417729ec9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_dbdump_to_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkvpair.html">kvpair</a>&#160;</td>
          <td class="paramname"><em>kv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export API: Use db_dump format to write a key/value pair to a file opened with fopen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">kv</td><td>Key+Value pair </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fp</td><td>FILE pointer (return value of fopen) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dump to file status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3878814110548b399bdd0fc3b0124073"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_dbdump_trailer_and_close </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export API: Finalize and close a file written in db_dump format and opened with fopen. </p>
<p>No trailer written: just closes the file (using fclose).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fp</td><td>FILE pointer (return value of fopen) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dump trailer status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2ec0daee860858aa6d8077173fddb92c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_dbdump_add_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structkvpair.html">kvpair</a>&#160;</td>
          <td class="paramname"><em>kv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>datasize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>bufptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>bufsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buf_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export API: Use db_dump format to write a key/value pair to a malloc'd buffer. </p>
<p>mdbm_dbdump_add_record may realloc <em>bufptr</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">kv</td><td>Key+Value pair </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">datasize</td><td>Size of db_dump data to be added added to <em>bufptr</em> </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bufptr</td><td>malloc'd buffer. bufptr may be realloc'd if <em>datasize</em> is greater than <em>bufsize</em> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufsize</td><td>Size of malloc'd buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_offset</td><td>Offset in <em>bufptr</em> to start writing data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Dump add record status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error, and errno is set </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae404215e3bbd5958a2f8408b952f9d35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_dbdump_export_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export API: Write the DBdump header to FILE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>handle of MDBM whose data is being exported </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fp</td><td>file handle/pointer to read from </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac968934ee41f70307cb9976777a87761"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_dbdump_import_header </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pgsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pgcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>large</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>lineno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import API: Read the DBdump header from FILE Function will set, if available at the beginning of the file pointed to by "fp", the following parameter values: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fp</td><td>file handle/pointer to read from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pgsize</td><td>page-size read from "fp" </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pgcount</td><td>page-count read from "fp" </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">large</td><td>large-object-support </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lineno</td><td>The line number following the header (for tracking progress) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0f27fda50db2248a91ff65e2757758b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_dbdump_import </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>store_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>lineno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import API: Read data from FILE into MDBM, using DBdump format. </p>
<p>MDBM locking and unlocking is done one record at a time based on locking set up when the MDBM was opened.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>handle of MDBM into which data is being imported </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fp</td><td>file handle/pointer to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input_file</td><td>name of the file pointed to by "fp". </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">store_flag</td><td>MDBM_INSERT | MDBM_REPLACE | MDBM_INSERT_DUP | MDBM_MODIFY </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lineno</td><td>current line number, keep track of the current line number to generate meaningful error messages. Precondition: set to 1 or pass line number previously set by mdbm_dbdump_import_header. Postcondition: lineno will hold the last line number read successfully. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga96dfdf65a3e1406f01cbe4866f6864ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdbm_cdbdump_import </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdbm_8h.html#a80768aab568ca444688a7a1dba7778cd">MDBM</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>input_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>store_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import API: Read data from FILE into MDBM, using Cdb format. </p>
<p>MDBM locking and unlocking is done one record at a time based on locking set up when the MDBM was opened.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">db</td><td>handle of MDBM into which data is being imported </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fp</td><td>file handle/pointer to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input_file</td><td>name of the file pointed to by "fp". </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">store_flag</td><td>MDBM_INSERT | MDBM_REPLACE | MDBM_INSERT_DUP | MDBM_MODIFY </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- doc footer -->
</body>
</html>
